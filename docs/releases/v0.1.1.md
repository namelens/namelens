# NameLens v0.1.1 Release Notes

Release date: 2026-01-07

## Highlights

v0.1.1 focuses on rate-limit tooling and improved stability for high-throughput
batch runs.

### Rate Limit Management

New CLI commands to inspect and clear persisted rate limit state without manual
database access:

- `namelens rate-limit list` - View stored rate limits with optional filtering
- `namelens rate-limit reset` - Clear rate limits by endpoint, prefix, or all

### Stability Improvements

- **SQLite concurrency fix**: Batch checks no longer fail with "database is
  locked" errors. Local libsql stores now use WAL mode, busy timeout, and
  single-connection serialization.
- **CI update**: macOS runner updated from retired macos-13 to macos-15-intel

## Rate Limit Commands

```bash
# List all stored rate limits
namelens rate-limit list

# List endpoints matching a prefix
namelens rate-limit list --prefix=rdap.

# JSON output for automation
namelens rate-limit list --output=json

# Dry run to see what would be deleted
namelens rate-limit reset --all --dry-run

# Reset a specific endpoint
namelens rate-limit reset --endpoint=rdap.verisign.com

# Reset endpoints by prefix
namelens rate-limit reset --prefix=whois. --yes

# Reset all rate limits (requires confirmation)
namelens rate-limit reset --all --yes
```

## Output Formats

Both `list` and `reset` commands support:

- `--output=table` (default): ASCII box for readable diagnostics
- `--output=json`: Structured output for CI/automation

Example JSON output from reset:

```json
{
  "matched": 8,
  "deleted": 8,
  "dry_run": false
}
```

## Technical Details

### SQLite Concurrency

Local libsql stores now use WAL mode and busy timeouts to eliminate database
locking errors during batch operations. Batch throughput: >10 checks/second.

### Rate Limit Safety

- `--all` requires `--yes` flag unless `--dry-run` is used
- Clear logging of matched/deleted counts
- Works with both local and remote (Turso) libsql stores

## Upgrade Notes

No breaking changes. Rate limit state from v0.1.0 is preserved.

## Known Limitations

- Rate limit display shows `entr(ies)` instead of proper singular/plural
  (cosmetic, will fix in future release)
