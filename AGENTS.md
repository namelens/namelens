# NameLens - AI Agent Guide

## Read First

1. Check `AGENTS.local.md` if it exists (gitignored)
2. Check `.plans/` for active work briefs and roadmaps (gitignored)
3. Read `MAINTAINERS.md` for contacts and governance
4. Understand project scope before making changes

## Operating Model

| Aspect         | Setting                                  |
| -------------- | ---------------------------------------- |
| Mode           | Supervised (human reviews before commit) |
| Classification | code-substantive                         |
| Role Required  | Yes                                      |

See
[agent-identity standard](https://crucible.3leaps.dev/repository/agent-identity)
for modes and attribution.

## Project Overview

**NameLens** is a Workhorse tool for checking name availability across:

- Domains (via RDAP)
- Package registries (npm, PyPI, crates.io)
- Social handles (GitHub)

Built on the Fulmen workhorse pattern using gofulmen for configuration, logging,
and observability.

## Quick Reference

| Task           | Command          |
| -------------- | ---------------- |
| Bootstrap      | `make bootstrap` |
| Quality checks | `make check`     |
| Tests          | `make test`      |
| Build          | `make build`     |
| Run            | `make run`       |
| Format         | `make fmt`       |
| Lint           | `make lint`      |

## Session Protocol

### Before Changes

- Read relevant code first
- Understand the scope
- Keep changes minimal and focused

### Before Committing

- Run `make check` (runs fmt, lint, test)
- Verify tests pass
- Use proper attribution (see below)
- Include `Committer-of-Record` trailer

## Commit Attribution

Follow
[3leaps commit style](https://crucible.3leaps.dev/repository/commit-style):

```
<type>(<scope>): <subject>

<body>

Generated by <Model> via <Interface> under supervision of @<maintainer>

Co-Authored-By: <Model> <noreply@3leaps.net>
Role: devlead
Committer-of-Record: @<maintainer>
```

**Example:**

```
feat(checker): add npm registry availability check

Implements npm package name availability checking via registry API.

Changes:
- Add npm checker in internal/core/checker/npm.go
- Integrate with orchestrator
- Add tests

Generated by Claude Sonnet via Claude Code under supervision of @3leapsdave

Co-Authored-By: Claude Sonnet <noreply@3leaps.net>
Role: devlead
Committer-of-Record: @3leapsdave
```

## DO / DO NOT

### DO

- Run `make check` before commits
- Read files before editing
- Keep changes focused
- Use gofulmen modules (config, logging, app identity)
- Follow Go idioms and best practices
- Document for users

### DO NOT

- Push without maintainer approval
- Skip quality gates
- Commit secrets or API keys
- Hardcode app name/config paths (use app identity)
- Touch code outside task scope

## Key Files

| File               | Purpose                          |
| ------------------ | -------------------------------- |
| `.fulmen/app.yaml` | App identity (name, env prefix)  |
| `cmd/namelens/`    | CLI entry point                  |
| `internal/cmd/`    | Cobra commands                   |
| `internal/core/`   | Business logic (checkers, store) |
| `internal/server/` | HTTP server and handlers         |
| `config/namelens/` | Default configuration            |

## Role Catalog

Standard role identifiers for 3leaps ecosystem. Use in `Role:` commit trailer.

| Role                  | Identifier | Typical Scope                               |
| --------------------- | ---------- | ------------------------------------------- |
| Development Lead      | `devlead`  | Architecture, implementation, code review   |
| Information Architect | `infoarch` | Documentation, structure, standards         |
| Quality Assurance     | `qa`       | Testing, validation, quality gates          |
| CI/CD Automation      | `cicd`     | Pipelines, deployments, automation          |
| Security Review       | `secrev`   | Security analysis, vulnerability review     |
| Release Manager       | `releng`   | Versioning, releases, changelogs            |
| Dispatcher            | `dispatch` | Cross-session coordination, message routing |
| Product Marketing     | `prodmktg` | Messaging, branding, personas, storytelling |

See
[agent-identity standard](https://crucible.3leaps.dev/repository/agent-identity)
for full role definitions and extension patterns.

## Standards Reference

- **Online**: https://crucible.3leaps.dev/
- **Local fallback**: `../crucible/` (sibling directory)
- **FulmenHQ patterns**: https://github.com/fulmenhq/crucible
